一、“大数据时代”，数据获取的方式

1.企业生产的用户数据：大型互联联网公司有海量用户，所以他们积累数据，有数据意识的中小型企业，也开始积累
2.数据咨询管理公司
3.政府/机构提供的公开数据
4.第三方数据平台购买数据:数据堂，贵阳大数据交易所
5.爬虫爬取数据

一些网站：百度指数index.baidu.com
			阿里指数：
			微指数：data.weibo.com/index
			国家数据:data.stats.gov.cn
			世界银行：data.worldbank.org.cn
			纳斯达克:www.nasdaq.com
			联合国：data.un.org

			国内做的比较好的数据咨询平台：www.iresearch.com.cn

			国际上：麦肯锡：www.mckinsey.com.cn

什么事爬虫？
	爬虫：抓取网页数据的程序
爬虫是怎么抓取网页数据的？
	网页三大特征：
		1.每个网页都有自己的URL(统一资源定位符)来进行定位
		2.网页都是用HTML(超文本标记语言)来描述页面信息
		3.网页都使用HTTP HTTPs（超文本传协议）协议来传输HTML数据。
	爬虫的设计思路
		1.确定需要爬取的网页url地址
		2.通过http/https协议来获取对应的HTML页面
		3.提取HTML页面里面有用的数据：
			a.如果是需要的数据，就保存起来
			b.如果是页面里的其他URL，那就继续执行第二步
为什么选择python做爬虫？
	可以做爬虫的语言有：php，java，c/c++，pytho等等...
	php虽然是世界上最好的语言，但是他天生不是干这个的，而且对多线程，异步支持不够好，并发处理能力很弱，爬虫是工具性程序，对速度和效率要求比较高

	java网络生态圈也很完善，是python爬虫最大的对手，但是java语言本身很笨重，代码量很大，重复成本就比较高，任何修改都会导致大量代码的大量变动。爬虫经常需要修改部分采集机制

	c/c++运行效率和性能几乎最强，但是学习成本很高。

	python语法优美，代码简洁，开发效率高，支持的模块高，相关的HTTP请求模块还强大的爬虫scrapy,以及成熟高效的scrapy-redis分布是策略
	而且，调用其他借口也非常方便（胶水语言）

如何抓取HTML页面：

	http请求的处理，urllib,urllib2,requests
	处理后的请求可以模拟浏览器发送请求，获取服务器响应的文件

	解析服务器响应的内容
		re、xpath、BeautifulSoup(bs4),jsonpath,pyquery等使用某种描述性的语言给我们需要的数据定义一个匹配规则符合这个规则的数据就会被匹配
	如何采集动态HTML、验证码的处理
		通用的动态页面采集：Selenium(自动化测试工具)
						PhantomJS(无界面浏览器，模拟真实浏览器加载非静态html页面)
		Tesseract:机器学习库,机器图像识别系统，可以处理简单的验证码，复杂的可以手动输入

	Scrapy框架:(scrapy,pyspide(国人写的))

		高定制性高性能(异步网络框架twisted)默认使用了他,所以下载速度非常快，提供了数据存储、数据下载、提取规则等组件

	分布式策略:
		1.你的数据有那么多吗？
		2.你的人员成本和机器成本会不会大于数据成本
		scrapy-redis,在scrapy的基础上添加了一套一redis数据库为核心的组件让scrapy框架支持分布式功能
		，主要在redis里做请求指纹去重，请求分配，数据临时存储
	爬虫-反爬虫-反反爬虫之间的斗争：
		其实爬虫做到最后最头疼的不是复杂的页面，不是晦涩的数据，而是网站另一边的反爬虫工程师

		User Agent、代理、验证码、动态数据加载、加密数据
		数据的价值 是否值得你去费劲做反爬虫
		机器成本 人力成本 大于价值，就不反了，一般做到分IP就结束了
		面子的战争...
		爬虫和放爬虫之间的斗争一定是爬虫获胜，只要是真实用户可以浏览的数据一定可以爬的的到 
通用爬虫--聚焦爬虫

	通用爬虫：搜索引擎用的爬虫系统
		目标：就是尽可能的把互联网上所有的网页下载下来，放到本地服务械形成备份，再对这些网页做相关处理（提取关键字，去掉广告），最后提供一个用用户检索接口
	抓取流程：
		a)首先选取一部分已有的URL，把这些URL放到待爬取得队列
		b)从队列里取出这些URL，然后解析DNS得到主机IP，然后去这个IP对应的服务器里下载HTML页面，保存到搜索引擎的本地服务器，之后把这些怕过的URL放入已经爬取的队列
		c)分析这些网页内容，找出网页里其他的URL链接，继续执行第二步，直到爬去条件结束
	搜索引擎是如何获取一个新网站的URL：
		1.主动向搜索引擎提交网址：如果想提交给百度的搜索引擎收录，打开百度站长平台输入链接地址，提交
		2.在其他网站里设置网站的外链
		3.搜索引擎会和DNS服务商进行合作，可以快速收录新的网站

	通用爬虫并不是万物皆可爬，他也要遵循规则：
		Robots协议：协议会指明通用爬虫可以爬取网页的权限
		Robots.txt：并不是所有爬虫都遵守的，一般只有大型的搜索引擎爬虫才会遵守，咱们个人写的爬虫，就不管了
	通用爬虫工作流程：
		爬取网页，存储数据，内容处理，提供排名/排名服务
	搜索引擎排名：
		1.PageRank值：根据网站的流量（点击量/浏览量/人气）统计，流量越高，排名越靠前，网站越值钱
		2.竞价排名：谁给钱多，谁排名就高。
	通用爬虫的缺点：
		只能提供和文本相关的内容（HTML，WORD，PDF）等等，但不能提供多媒体（音乐，图片，视频）和二进制文件（程序，脚本）等
		提供的结果千篇一律，不能针对不同背景的人提供不同的搜索结果
		不能理解人类语义上的检索


DNS：就是把域名解析为IP地址，的一种古老的技术


聚焦爬虫：爬虫程序员写的针对某种内容爬虫
	为了解决某个领域的问题聚焦爬虫出现了
	面向主题爬虫，面向需求爬虫：会针对某种特定的内容去爬取信息，而且会保证信息和需求尽可能相关。
 










